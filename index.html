<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Генератор Рапидо 2 (iPad)</title>
    <style>
        * {
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        }
        body {
            margin: 0;
            padding: 10px;
            background-color: #f5f5f7;
            color: #1c1c1e;
        }
        .container {
            max-width: 100%;
            width: 100%;
            margin: 0 auto;
        }
        h1 {
            font-size: 1.5rem;
            text-align: center;
            color: #0066cc;
        }
        .card {
            background: white;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        .numbers {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin: 10px 0;
        }
        .number {
            width: 40px;
            height: 40px;
            border-radius: 20px;
            background: #0066cc;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 16px;
        }
        .number.small {
            background: #ff2d55;
        }
        button {
            width: 100%;
            padding: 12px;
            background: #0066cc;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            margin-top: 10px;
        }
        button:active {
            background: #004499;
        }
        textarea {
            width: 100%;
            height: 80px;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 8px;
            font-size: 14px;
            margin-bottom: 10px;
        }
        .history-item {
            padding: 8px;
            border-bottom: 1px solid #eee;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Генератор Рапидо 2</h1>
        
        <div class="card">
            <h2>Новые числа</h2>
            <div class="numbers" id="field1">
                <!-- Здесь будут числа 8 из 20 -->
            </div>
            <div class="numbers" id="field2">
                <!-- Здесь будет число 1 из 4 -->
            </div>
            <button onclick="generateNumbers()">Сгенерировать</button>
        </div>
        
        <div class="card">
            <h2>Добавить в историю</h2>
            <textarea id="historyInput" placeholder="Введите числа через запятую, например: 3,7,12,15,18,19,20,4 | 2"></textarea>
            <button onclick="addToHistory()">Сохранить</button>
        </div>
        
        <div class="card">
            <h2>История розыгрышей</h2>
            <div id="historyList"></div>
            <button onclick="clearHistory()">Очистить историю</button>
        </div>
    </div>

    <script>
        // Загружаем историю при загрузке страницы
        let history = JSON.parse(localStorage.getItem('rapido2_history')) || [];
        updateHistoryList();
        
        // Генерация случайных чисел
        function generateNumbers() {
            // Поле 1: 8 из 20
            const field1 = [];
            while (field1.length < 8) {
                const num = Math.floor(Math.random() * 20) + 1;
                if (!field1.includes(num)) field1.push(num);
            }
            field1.sort((a, b) => a - b);
            
            // Поле 2: 1 из 4
            const field2 = Math.floor(Math.random() * 4) + 1;
            
            // Отображаем
            document.getElementById('field1').innerHTML = field1.map(num => 
                `<div class="number">${num}</div>`
            ).join('');
            
            document.getElementById('field2').innerHTML = 
                `<div class="number small">${field2}</div>`;
        }
        
        // Добавление в историю
        function addToHistory() {
            const input = document.getElementById('historyInput').value.trim();
            if (!input) return alert("Введите числа!");
            
            history.push(input);
            localStorage.setItem('rapido2_history', JSON.stringify(history));
            updateHistoryList();
            document.getElementById('historyInput').value = '';
        }
        
        // Обновление списка истории
        function updateHistoryList() {
            const historyList = document.getElementById('historyList');
            historyList.innerHTML = history.map((item, index) => 
                `<div class="history-item">${index + 1}. ${item}</div>`
            ).join('');
        }
        
        // Очистка истории
        function clearHistory() {
            if (confirm("Очистить всю историю?")) {
                history = [];
                localStorage.removeItem('rapido2_history');
                updateHistoryList();
            }
        }
        
        // Генерируем числа при загрузке
        generateNumbers();
    </script>
</body>
</html>
